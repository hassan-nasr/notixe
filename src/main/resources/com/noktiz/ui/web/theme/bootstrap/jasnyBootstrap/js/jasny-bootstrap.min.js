!function(b){var c=function(e,d){this.$element=b(e);this.options=b.extend({},b.fn.typeahead.defaults,d);if(this.options.target){this.$target=b(this.options.target)}this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.strict=this.options.strict;this.$menu=b(this.options.menu);this.shown=false;if(typeof this.source=="string"){this.url=this.source;this.source=this.searchAjax}if(e.nodeName=="SELECT"){this.replaceSelect()}this.text=this.$element.val();this.$element.attr("data-text",this.value).attr("autocomplete","off");if(typeof this.$target!="undefined"){this.$element.attr("data-value",this.$target.val())}else{if(typeof this.$element.attr("data-value")=="undefined"){this.$element.attr("data-value",this.strict?"":this.value)}}this.$menu.css("min-width",this.$element.width()+12);this.listen()};c.prototype={constructor:c,replaceSelect:function(){this.$target=this.$element;this.$element=b('<input type="text" />');this.source={};this.strict=true;var e=this.$target.find("option");var g;for(var f=0;f<e.length;f++){g=b(e[f]);if(g.val()===""){this.$element.attr("placeholder",g.html());continue}this.source[g.val()]=g.html();if(this.$target.val()==g.val()){this.$element.val(g.html())}}var d=this.$target[0].attributes;for(f=0;f<d.length;f++){if(d[f].nodeName!="type"&&d[f].nodeName!="name"&&d[f].nodeName!="id"&&d[f].nodeName!="data-provide"&&!d[f].nodeName.match(/^on/)){this.$element.attr(d[f].nodeName,d[f].nodeValue)}}this.$element.insertAfter(this.$target);if(this.$target.attr("autofocus")){this.$element.trigger("focus").select()}this.$target.attr("autofocus",false);this.$target.hide()},destroyReplacement:function(){if(typeof this.$target!="undefined"&&this.$target[0].nodeName=="SELECT"){this.$element.replaceWith("")}},select:function(){var d=this.$menu.find(".active"),f=d.attr("data-value"),e=d.find(".item-text").length>0?d.find(".item-text").text():d.text();f=this.updater(f,"value");e=this.updater(e,"text");this.$element.val(e).attr("data-value",f);this.text=e;if(typeof this.$target!="undefined"){this.$target.val(f).trigger("change")}this.$element.trigger("change");return this.hide()},updater:function(e,d){return e},show:function(){var d=b.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.insertAfter(this.$element).css({top:d.top+d.height,left:d.left}).show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(e){var d;this.query=this.$element.val();if(!this.query||this.query.length<this.options.minLength){return this.shown?this.hide():this}d=b.isFunction(this.source)?this.source(this.query,b.proxy(this.process,this)):this.source;return d?this.process(d):this},process:function(d){return b.isArray(d)?this.processArray(d):this.processObject(d)},processArray:function(d){var e=this;d=b.grep(d,function(f){return e.matcher(f)});d=this.sorter(d);if(!d.length){return this.shown?this.hide():this}return this.render(d.slice(0,this.options.items)).show()},processObject:function(e){var g=this,d={},f=0;b.each(e,function(h,i){if(g.matcher(i)){d[h]=i}});d=this.sorter(d);if(b.isEmptyObject(d)){return this.shown?this.hide():this}b.each(d,function(h,i){if(f++>=g.options.items){delete d[h]}});return this.render(d).show()},searchAjax:function(e,f){var d=this;if(this.ajaxTimeout){clearTimeout(this.ajaxTimeout)}this.ajaxTimeout=setTimeout(function(){if(d.ajaxTimeout){clearTimeout(d.ajaxTimeout)}if(e===""){d.hide();return}b.get(d.url,{q:e,limit:d.options.items},function(g){if(typeof g=="string"){g=JSON.parse(g)}f(g)})},this.options.ajaxdelay)},matcher:function(d){return ~d.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(d){return b.isArray(d)?this.sortArray(d):this.sortObject(d)},sortArray:function(f){var g=[],e=[],d=[],h;while(h=f.shift()){if(!h.toLowerCase().indexOf(this.query.toLowerCase())){g.push(h)}else{if(~h.indexOf(this.query)){e.push(h)}else{d.push(h)}}}return g.concat(e,d)},sortObject:function(e){var d={},f;for(f in e){if(!e[f].toLowerCase().indexOf(this.query.toLowerCase())){d[f]=e[f];delete e[f]}}for(f in e){if(~e[f].indexOf(this.query)){d[f]=e[f];delete e[f]}}for(f in e){d[f]=e[f]}return d},highlighter:function(d){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return d.replace(new RegExp("("+e+")","ig"),function(f,g){return"<strong>"+g+"</strong>"})},render:function(d){var e=this,f=b([]);b.map(d,function(i,j){if(f.length>=e.options.items){return}var g,h;if(b.isArray(d)){j=i}g=b(e.options.item);h=g.find("a").length?g.find("a"):g;h.html(e.highlighter(i));g.attr("data-value",j);if(g.find("a").length===0){g.addClass("dropdown-header")}f.push(g[0])});f.not(".dropdown-header").first().addClass("active");this.$menu.html(f);return this},next:function(e){var f=this.$menu.find(".active").removeClass("active"),d=f.nextAll("li:not(.dropdown-header)").first();if(!d.length){d=b(this.$menu.find("li:not(.dropdown-header)")[0])}d.addClass("active")},prev:function(e){var f=this.$menu.find(".active").removeClass("active"),d=f.prevAll("li:not(.dropdown-header)").first();if(!d.length){d=this.$menu.find("li:not(.dropdown-header)").last()}d.addClass("active")},listen:function(){this.$element.on("focus",b.proxy(this.focus,this)).on("blur",b.proxy(this.blur,this)).on("change",b.proxy(this.change,this)).on("keypress",b.proxy(this.keypress,this)).on("keyup",b.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$element.on("keydown",b.proxy(this.keydown,this))}this.$menu.on("click",b.proxy(this.click,this)).on("mouseenter","li",b.proxy(this.mouseenter,this)).on("mouseleave","li",b.proxy(this.mouseleave,this));b(window).on("unload",b.proxy(this.destroyReplacement,this))},eventSupported:function(d){var e=d in this.$element;if(!e){this.$element.setAttribute(d,"return;");e=typeof this.$element[d]==="function"}return e},move:function(d){if(!this.shown){return}switch(d.keyCode){case 9:case 13:case 27:d.preventDefault();break;case 38:d.preventDefault();this.prev();break;case 40:d.preventDefault();this.next();break}d.stopPropagation()},keydown:function(d){this.suppressKeyPressRepeat=~b.inArray(d.keyCode,[40,38,9,13,27]);this.move(d)},keypress:function(d){if(this.suppressKeyPressRepeat){return}this.move(d)},keyup:function(d){switch(d.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}d.stopPropagation();d.preventDefault()},change:function(f){var d;if(this.$element.val()!=this.text){d=this.$element.val()===""||this.strict?"":this.$element.val();this.$element.val(d);this.$element.attr("data-value",d);this.text=d;if(typeof this.$target!="undefined"){this.$target.val(d)}}},focus:function(d){this.focused=true},blur:function(d){this.focused=false;if(!this.mousedover&&this.shown){this.hide()}},click:function(d){d.stopPropagation();d.preventDefault();this.select();this.$element.focus()},mouseenter:function(d){this.mousedover=true;this.$menu.find(".active").removeClass("active");b(d.currentTarget).addClass("active")},mouseleave:function(d){this.mousedover=false;if(!this.focused&&this.shown){this.hide()}}};var a=b.fn.typeahead;b.fn.typeahead=function(d){return this.each(function(){var g=b(this),f=g.data("typeahead"),e=typeof d=="object"&&d;if(!f){g.data("typeahead",(f=new c(this,e)))}if(typeof d=="string"){f[d]()}})};b.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',ajaxdelay:400,minLength:1};b.fn.typeahead.Constructor=c;b.fn.typeahead.noConflict=function(){b.fn.typeahead=a;return this};b(document).off("focus.typeahead.data-api").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(f){var d=b(this);if(d.data("typeahead")){return}if(d.is("select")){d.attr("autofocus",true)}f.preventDefault();d.typeahead(d.data())})}(window.jQuery);!function(d){var c=(window.orientation!==undefined),b=navigator.userAgent.toLowerCase().indexOf("android")>-1;var a=function(f,e){if(b){return}this.$element=d(f);this.options=d.extend({},d.fn.inputmask.defaults,e);this.mask=String(e.mask);this.init();this.listen();this.checkVal()};a.prototype={init:function(){var f=this.options.definitions;var e=this.mask.length;this.tests=[];this.partialPosition=this.mask.length;this.firstNonMaskPos=null;d.each(this.mask.split(""),d.proxy(function(g,h){if(h=="?"){e--;this.partialPosition=g}else{if(f[h]){this.tests.push(new RegExp(f[h]));if(this.firstNonMaskPos===null){this.firstNonMaskPos=this.tests.length-1}}else{this.tests.push(null)}}},this));this.buffer=d.map(this.mask.split(""),d.proxy(function(h,g){if(h!="?"){return f[h]?this.options.placeholder:h}},this));this.focusText=this.$element.val();this.$element.data("rawMaskFn",d.proxy(function(){return d.map(this.buffer,function(h,g){return this.tests[g]&&h!=this.options.placeholder?h:null}).join("")},this))},listen:function(){if(this.$element.attr("readonly")){return}var e=(navigator.userAgent.match(/msie/i)?"paste":"input")+".mask";this.$element.on("unmask",d.proxy(this.unmask,this)).on("focus.mask",d.proxy(this.focusEvent,this)).on("blur.mask",d.proxy(this.blurEvent,this)).on("keydown.mask",d.proxy(this.keydownEvent,this)).on("keypress.mask",d.proxy(this.keypressEvent,this)).on(e,d.proxy(this.pasteEvent,this))},caret:function(g,e){if(this.$element.length===0){return}if(typeof g=="number"){e=(typeof e=="number")?e:g;return this.$element.each(function(){if(this.setSelectionRange){this.setSelectionRange(g,e)}else{if(this.createTextRange){var h=this.createTextRange();h.collapse(true);h.moveEnd("character",e);h.moveStart("character",g);h.select()}}})}else{if(this.$element[0].setSelectionRange){g=this.$element[0].selectionStart;e=this.$element[0].selectionEnd}else{if(document.selection&&document.selection.createRange){var f=document.selection.createRange();g=0-f.duplicate().moveStart("character",-100000);e=g+f.text.length}}return{begin:g,end:e}}},seekNext:function(f){var e=this.mask.length;while(++f<=e&&!this.tests[f]){}return f},seekPrev:function(e){while(--e>=0&&!this.tests[e]){}return e},shiftL:function(k,f){var e=this.mask.length;if(k<0){return}for(var h=k,g=this.seekNext(f);h<e;h++){if(this.tests[h]){if(g<e&&this.tests[h].test(this.buffer[g])){this.buffer[h]=this.buffer[g];this.buffer[g]=this.options.placeholder}else{break}g=this.seekNext(g)}}this.writeBuffer();this.caret(Math.max(this.firstNonMaskPos,k))},shiftR:function(l){var e=this.mask.length;for(var h=l,k=this.options.placeholder;h<e;h++){if(this.tests[h]){var f=this.seekNext(h);var g=this.buffer[h];this.buffer[h]=k;if(f<e&&this.tests[f].test(g)){k=g}else{break}}}},unmask:function(){this.$element.unbind(".mask").removeData("inputmask")},focusEvent:function(){this.focusText=this.$element.val();var e=this.mask.length;var h=this.checkVal();this.writeBuffer();var g=this;var f=function(){if(h==e){g.caret(0,h)}else{g.caret(h)}};if(d.browser.msie){f()}else{setTimeout(f,0)}},blurEvent:function(){this.checkVal();if(this.$element.val()!=this.focusText){this.$element.trigger("change")}},keydownEvent:function(i){var g=i.which;if(g==8||g==46||(c&&g==127)){var j=this.caret(),h=j.begin,f=j.end;if(f-h===0){h=g!=46?this.seekPrev(h):(f=this.seekNext(h-1));f=g==46?this.seekNext(f):f}this.clearBuffer(h,f);this.shiftL(h,f-1);return false}else{if(g==27){this.$element.val(this.focusText);this.caret(0,this.checkVal());return false}}},keypressEvent:function(j){var f=this.mask.length;var g=j.which,m=this.caret();if(j.ctrlKey||j.altKey||j.metaKey||g<32){return true}else{if(g){if(m.end-m.begin!==0){this.clearBuffer(m.begin,m.end);this.shiftL(m.begin,m.end-1)}var i=this.seekNext(m.begin-1);if(i<f){var l=String.fromCharCode(g);if(this.tests[i].test(l)){this.shiftR(i);this.buffer[i]=l;this.writeBuffer();var h=this.seekNext(i);this.caret(h)}}return false}}},pasteEvent:function(){var e=this;setTimeout(function(){e.caret(e.checkVal(true))},0)},clearBuffer:function(h,f){var e=this.mask.length;for(var g=h;g<f&&g<e;g++){if(this.tests[g]){this.buffer[g]=this.options.placeholder}}},writeBuffer:function(){return this.$element.val(this.buffer.join("")).val()},checkVal:function(g){var e=this.mask.length;var l=this.$element.val();var k=-1;for(var f=0,j=0;f<e;f++){if(this.tests[f]){this.buffer[f]=this.options.placeholder;while(j++<l.length){var h=l.charAt(j-1);if(this.tests[f].test(h)){this.buffer[f]=h;k=f;break}}if(j>l.length){break}}else{if(this.buffer[f]==l.charAt(j)&&f!=this.partialPosition){j++;k=f}}}if(!g&&k+1<this.partialPosition){this.$element.val("");this.clearBuffer(0,e)}else{if(g||k+1>=this.partialPosition){this.writeBuffer();if(!g){this.$element.val(this.$element.val().substring(0,k+1))}}}return(this.partialPosition?f:this.firstNonMaskPos)}};d.fn.inputmask=function(e){return this.each(function(){var g=d(this),f=g.data("inputmask");if(!f){g.data("inputmask",(f=new a(this,e)))}})};d.fn.inputmask.defaults={mask:"",placeholder:"_",definitions:{"9":"[0-9]",a:"[A-Za-z]","?":"[A-Za-z0-9]","*":"."}};d.fn.inputmask.Constructor=a;d(document).on("focus.inputmask.data-api","[data-mask]",function(g){var f=d(this);if(f.data("inputmask")){return}g.preventDefault();f.inputmask(f.data())})}(window.jQuery);!function(b){var a=function(d,c){c=b.extend({},b.fn.rowlink.defaults,c);var e=d.nodeName.toLowerCase()=="tr"?b(d):b(d).find("tr:has(td)");e.each(function(){var g=b(this).find(c.target).first();if(!g.length){return}var f=g.attr("href");b(this).find("td").not(".nolink").click(function(){window.location=f});b(this).addClass("rowlink");g.replaceWith(g.html())})};b.fn.rowlink=function(c){return this.each(function(){var e=b(this),d=e.data("rowlink");if(!d){e.data("rowlink",(d=new a(this,c)))}})};b.fn.rowlink.defaults={target:"a"};b.fn.rowlink.Constructor=a;b(function(){b('[data-provide="rowlink"],[data-provides="rowlink"]').each(function(){b(this).rowlink(b(this).data())})})}(window.jQuery);!function(b){var a=function(e,d){this.$element=b(e);this.type=this.$element.data("uploadtype")||(this.$element.find(".thumbnail").length>0?"image":"file");this.$input=this.$element.find(":file");if(this.$input.length===0){return}this.name=this.$input.attr("name")||d.name;this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]');if(this.$hidden.length===0){this.$hidden=b('<input type="hidden" />');this.$element.prepend(this.$hidden)}this.$preview=this.$element.find(".fileupload-preview");var c=this.$preview.css("height");if(this.$preview.css("display")!="inline"&&c!="0px"&&c!="none"){this.$preview.css("line-height",c)}this.original={exists:this.$element.hasClass("fileupload-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()};this.$remove=this.$element.find('[data-dismiss="fileupload"]');this.$element.find('[data-trigger="fileupload"]').on("click.fileupload",b.proxy(this.trigger,this));this.listen()};a.prototype={listen:function(){this.$input.on("change.fileupload",b.proxy(this.change,this));b(this.$input[0].form).on("reset.fileupload",b.proxy(this.reset,this));if(this.$remove){this.$remove.on("click.fileupload",b.proxy(this.clear,this))}},change:function(i,g){if(g==="clear"){return}var f=i.target.files!==undefined?i.target.files[0]:(i.target.value?{name:i.target.value.replace(/^.+\\/,"")}:null);if(!f){this.clear();return}this.$hidden.val("");this.$hidden.attr("name","");this.$input.attr("name",this.name);if(this.type==="image"&&this.$preview.length>0&&(typeof f.type!=="undefined"?f.type.match("image.*"):f.name.match(/\.(gif|png|jpe?g)$/i))&&typeof FileReader!=="undefined"){var c=new FileReader();var h=this.$preview;var d=this.$element;c.onload=function(j){h.html('<img src="'+j.target.result+'" '+(h.css("max-height")!="none"?'style="max-height: '+h.css("max-height")+';"':"")+" />");d.addClass("fileupload-exists").removeClass("fileupload-new")};c.readAsDataURL(f)}else{this.$preview.text(f.name);this.$element.addClass("fileupload-exists").removeClass("fileupload-new")}},clear:function(d){this.$hidden.val("");this.$hidden.attr("name",this.name);this.$input.attr("name","");if(navigator.userAgent.match(/msie/i)){var c=this.$input.clone(true);this.$input.after(c);this.$input.remove();this.$input=c}else{this.$input.val("")}this.$preview.html("");this.$element.addClass("fileupload-new").removeClass("fileupload-exists");if(d){this.$input.trigger("change",["clear"]);d.preventDefault()}},reset:function(c){this.clear();this.$hidden.val(this.original.hiddenVal);this.$preview.html(this.original.preview);if(this.original.exists){this.$element.addClass("fileupload-exists").removeClass("fileupload-new")}else{this.$element.addClass("fileupload-new").removeClass("fileupload-exists")}},trigger:function(c){this.$input.trigger("click");c.preventDefault()}};b.fn.fileupload=function(c){return this.each(function(){var e=b(this),d=e.data("fileupload");if(!d){e.data("fileupload",(d=new a(this,c)))}if(typeof c=="string"){d[c]()}})};b.fn.fileupload.Constructor=a;b(document).on("click.fileupload.data-api",'[data-provides="fileupload"]',function(f){var d=b(this);if(d.data("fileupload")){return}d.fileupload(d.data());var c=b(f.target).closest('[data-dismiss="fileupload"],[data-trigger="fileupload"]');if(c.length>0){c.trigger("click.fileupload");f.preventDefault()}})}(window.jQuery);