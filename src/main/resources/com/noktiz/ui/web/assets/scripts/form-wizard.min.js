var FormWizard=function(){return{init:function(){if(!jQuery().bootstrapWizard){return}function c(f){if(!f.id){return f.text}return"<img class='flag' src='assets/img/flags/"+f.id.toLowerCase()+".png'/>&nbsp;&nbsp;"+f.text}$("#country_list").select2({placeholder:"Select",allowClear:true,formatResult:c,formatSelection:c,escapeMarkup:function(f){return f}});var b=$("#submit_form");var a=$(".alert-error",b);var e=$(".alert-success",b);b.validate({doNotHideMessage:true,errorElement:"span",errorClass:"validate-inline",focusInvalid:false,rules:{username:{minlength:5,required:true},password:{minlength:5,required:true},rpassword:{minlength:5,required:true,equalTo:"#submit_form_password"},fullname:{required:true},email:{required:true,email:true},phone:{required:true},gender:{required:true},address:{required:true},city:{required:true},country:{required:true},card_name:{required:true},card_number:{minlength:16,maxlength:16,required:true},card_cvc:{digits:true,required:true,minlength:3,maxlength:4},card_expiry_mm:{digits:true,required:true},card_expiry_yyyy:{digits:true,required:true},"payment[]":{required:true,minlength:1}},messages:{"payment[]":{required:"Please select at least one option",minlength:jQuery.format("Please select at least one option")}},errorPlacement:function(f,g){if(g.attr("name")=="gender"){f.addClass("no-left-padding").insertAfter("#form_gender_error")}else{if(g.attr("name")=="payment[]"){f.addClass("no-left-padding").insertAfter("#form_payment_error")}else{f.insertAfter(g)}}},invalidHandler:function(g,f){e.hide();a.show();App.scrollTo(a,-200)},highlight:function(f){$(f).closest(".help-inline").removeClass("ok");$(f).closest(".control-group").removeClass("success").addClass("error")},unhighlight:function(f){$(f).closest(".control-group").removeClass("error")},success:function(f){if(f.attr("for")=="gender"||f.attr("for")=="payment[]"){f.closest(".control-group").removeClass("error").addClass("success");f.remove()}else{f.addClass("valid ok").closest(".control-group").removeClass("error").addClass("success")}},submitHandler:function(f){e.show();a.hide()}});var d=function(){$(".display-value",b).each(function(){var g=$('[name="'+$(this).attr("data-display")+'"]',b);if(g.is(":text")||g.is("textarea")){$(this).html(g.val())}else{if(g.is("select")){$(this).html(g.find("option:selected").text())}else{if(g.is(":radio")&&g.is(":checked")){$(this).html(g.attr("data-title"))}else{if($(this).attr("data-display")=="card_expiry"){$(this).html($('[name="card_expiry_mm"]',b).val()+"/"+$('[name="card_expiry_yyyy"]',b).val())}else{if($(this).attr("data-display")=="payment"){var f=[];$('[name="payment[]"]').each(function(){f.push($(this).attr("data-title"))});$(this).html(f.join("<br>"))}}}}}})};$("#form_wizard_1").bootstrapWizard({nextSelector:".button-next",previousSelector:".button-previous",onTabClick:function(h,f,g){alert("on tab click disabled");return false},onNext:function(j,f,g){e.hide();a.hide();if(b.valid()==false){return false}var k=f.find("li").length;var l=g+1;$(".step-title",$("#form_wizard_1")).text("Step "+(g+1)+" of "+k);jQuery("li",$("#form_wizard_1")).removeClass("done");var m=f.find("li");for(var h=0;h<g;h++){jQuery(m[h]).addClass("done")}if(l==1){$("#form_wizard_1").find(".button-previous").hide()}else{$("#form_wizard_1").find(".button-previous").show()}if(l>=k){$("#form_wizard_1").find(".button-next").hide();$("#form_wizard_1").find(".button-submit").show();d()}else{$("#form_wizard_1").find(".button-next").show();$("#form_wizard_1").find(".button-submit").hide()}App.scrollTo($(".page-title"))},onPrevious:function(j,f,g){e.hide();a.hide();var k=f.find("li").length;var l=g+1;$(".step-title",$("#form_wizard_1")).text("Step "+(g+1)+" of "+k);jQuery("li",$("#form_wizard_1")).removeClass("done");var m=f.find("li");for(var h=0;h<g;h++){jQuery(m[h]).addClass("done")}if(l==1){$("#form_wizard_1").find(".button-previous").hide()}else{$("#form_wizard_1").find(".button-previous").show()}if(l>=k){$("#form_wizard_1").find(".button-next").hide();$("#form_wizard_1").find(".button-submit").show()}else{$("#form_wizard_1").find(".button-next").show();$("#form_wizard_1").find(".button-submit").hide()}App.scrollTo($(".page-title"))},onTabShow:function(i,f,h){var j=f.find("li").length;var k=h+1;var g=(k/j)*100;$("#form_wizard_1").find(".bar").css({width:g+"%"})}});$("#form_wizard_1").find(".button-previous").hide();$("#form_wizard_1 .button-submit").click(function(){alert("Finished! Hope you like it :)")}).hide()}}}();