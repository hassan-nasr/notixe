var Charts=function(){return{init:function(){App.addResponsiveHandler(function(){Charts.initPieCharts()})},initCharts:function(){if(!jQuery.plot){return}var f=[];var h=250;function g(){if(f.length>0){f=f.slice(1)}while(f.length<h){var l=f.length>0?f[f.length-1]:50;var m=l+Math.random()*10-5;if(m<0){m=0}if(m>100){m=100}f.push(m)}var k=[];for(var j=0;j<f.length;++j){k.push([j,f[j]])}return k}function e(){var m=[];for(var j=0;j<Math.PI*2;j+=0.25){m.push([j,Math.sin(j)])}var l=[];for(var j=0;j<Math.PI*2;j+=0.25){l.push([j,Math.cos(j)])}var k=[];for(var j=0;j<Math.PI*2;j+=0.1){k.push([j,Math.tan(j)])}$.plot($("#chart_1"),[{label:"sin(x)",data:m},{label:"cos(x)",data:l},{label:"tan(x)",data:k}],{series:{lines:{show:true},points:{show:true}},xaxis:{ticks:[0,[Math.PI/2,"\u03c0/2"],[Math.PI,"\u03c0"],[Math.PI*3/2,"3\u03c0/2"],[Math.PI*2,"2\u03c0"]]},yaxis:{ticks:10,min:-2,max:2},grid:{backgroundColor:{colors:["#fff","#eee"]}}})}function d(){function j(){return(Math.floor(Math.random()*(1+40-20)))+20}var k=[[1,j()],[2,j()],[3,2+j()],[4,3+j()],[5,5+j()],[6,10+j()],[7,15+j()],[8,20+j()],[9,25+j()],[10,30+j()],[11,35+j()],[12,25+j()],[13,15+j()],[14,20+j()],[15,45+j()],[16,50+j()],[17,65+j()],[18,70+j()],[19,85+j()],[20,80+j()],[21,75+j()],[22,80+j()],[23,75+j()],[24,70+j()],[25,65+j()],[26,75+j()],[27,80+j()],[28,85+j()],[29,90+j()],[30,95+j()]];var i=[[1,j()-5],[2,j()-5],[3,j()-5],[4,6+j()],[5,5+j()],[6,20+j()],[7,25+j()],[8,36+j()],[9,26+j()],[10,38+j()],[11,39+j()],[12,50+j()],[13,51+j()],[14,12+j()],[15,13+j()],[16,14+j()],[17,15+j()],[18,15+j()],[19,16+j()],[20,17+j()],[21,18+j()],[22,19+j()],[23,20+j()],[24,21+j()],[25,14+j()],[26,24+j()],[27,25+j()],[28,26+j()],[29,27+j()],[30,31+j()]];var m=$.plot($("#chart_2"),[{data:k,label:"Unique Visits"},{data:i,label:"Page Views"}],{series:{lines:{show:true,lineWidth:2,fill:true,fillColor:{colors:[{opacity:0.05},{opacity:0.01}]}},points:{show:true},shadowSize:2},grid:{hoverable:true,clickable:true,tickColor:"#eee",borderWidth:0},colors:["#d12610","#37b7f3","#52e136"],xaxis:{ticks:11,tickDecimals:0},yaxis:{ticks:11,tickDecimals:0}});function n(o,q,p){$('<div id="tooltip">'+p+"</div>").css({position:"absolute",display:"none",top:q+5,left:o+15,border:"1px solid #333",padding:"4px",color:"#fff","border-radius":"3px","background-color":"#333",opacity:0.8}).appendTo("body").fadeIn(200)}var l=null;$("#chart_2").bind("plothover",function(q,s,p){$("#x").text(s.x.toFixed(2));$("#y").text(s.y.toFixed(2));if(p){if(l!=p.dataIndex){l=p.dataIndex;$("#tooltip").remove();var o=p.datapoint[0].toFixed(2),r=p.datapoint[1].toFixed(2);n(p.pageX,p.pageY,p.series.label+" of "+o+" = "+r)}}else{$("#tooltip").remove();l=null}})}function c(){var m=[],p=[];for(var o=0;o<14;o+=0.1){m.push([o,Math.sin(o)]);p.push([o,Math.cos(o)])}plot=$.plot($("#chart_3"),[{data:m,label:"sin(x) = -0.00"},{data:p,label:"cos(x) = -0.00"}],{series:{lines:{show:true}},crosshair:{mode:"x"},grid:{hoverable:true,autoHighlight:false},yaxis:{min:-1.2,max:1.2}});var j=$("#chart_3 .legendLabel");j.each(function(){$(this).css("width",$(this).width())});var l=null;var k=null;function n(){l=null;var v=k;var u=plot.getAxes();if(v.x<u.xaxis.min||v.x>u.xaxis.max||v.y<u.yaxis.min||v.y>u.yaxis.max){return}var s,r,q=plot.getData();for(s=0;s<q.length;++s){var t=q[s];for(r=0;r<t.data.length;++r){if(t.data[r][0]>v.x){break}}var w,z=t.data[r-1],x=t.data[r];if(z==null){w=x[1]}else{if(x==null){w=z[1]}else{w=z[1]+(x[1]-z[1])*(v.x-z[0])/(x[0]-z[0])}}j.eq(s).text(t.label.replace(/=.*/,"= "+w.toFixed(2)))}}$("#chart_3").bind("plothover",function(q,r,i){k=r;if(!l){l=setTimeout(n,50)}})}function b(){var i={series:{shadowSize:1},lines:{show:true,lineWidth:0.5,fill:true,fillColor:{colors:[{opacity:0.1},{opacity:1}]}},yaxis:{min:0,max:100,tickFormatter:function(m){return m+"%"}},xaxis:{show:false},colors:["#6ef146"],grid:{tickColor:"#a8a3a3",borderWidth:0}};var k=30;var j=$.plot($("#chart_4"),[g()],i);function l(){j.setData([g()]);j.draw();setTimeout(l,k)}l()}function a(){var k=[];for(var m=0;m<=10;m+=1){k.push([m,parseInt(Math.random()*30)])}var j=[];for(var m=0;m<=10;m+=1){j.push([m,parseInt(Math.random()*30)])}var q=[];for(var m=0;m<=10;m+=1){q.push([m,parseInt(Math.random()*30)])}var o=0,p=true,r=false,n=false;function l(){$.plot($("#chart_5"),[k,j,q],{series:{stack:o,lines:{show:r,fill:true,steps:n},bars:{show:p,barWidth:0.6}}})}$(".stackControls input").click(function(i){i.preventDefault();o=$(this).val()=="With stacking"?true:null;l()});$(".graphControls input").click(function(i){i.preventDefault();p=$(this).val().indexOf("Bars")!=-1;r=$(this).val().indexOf("Lines")!=-1;n=$(this).val().indexOf("steps")!=-1;l()});l()}e();d();c();b();a()},initPieCharts:function(){var e=[];var d=Math.floor(Math.random()*10)+1;d=d<5?5:d;for(var c=0;c<d;c++){e[c]={label:"Series"+(c+1),data:Math.floor(Math.random()*100)+1}}$.plot($("#pie_chart"),e,{series:{pie:{show:true}}});$.plot($("#pie_chart_1"),e,{series:{pie:{show:true}},legend:{show:false}});$.plot($("#pie_chart_2"),e,{series:{pie:{show:true,radius:1,label:{show:true,radius:1,formatter:function(f,g){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+f+"<br/>"+Math.round(g.percent)+"%</div>"},background:{opacity:0.8}}}},legend:{show:false}});$.plot($("#pie_chart_3"),e,{series:{pie:{show:true,radius:1,label:{show:true,radius:3/4,formatter:function(f,g){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+f+"<br/>"+Math.round(g.percent)+"%</div>"},background:{opacity:0.5}}}},legend:{show:false}});$.plot($("#pie_chart_4"),e,{series:{pie:{show:true,radius:1,label:{show:true,radius:3/4,formatter:function(f,g){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+f+"<br/>"+Math.round(g.percent)+"%</div>"},background:{opacity:0.5,color:"#000"}}}},legend:{show:false}});$.plot($("#pie_chart_5"),e,{series:{pie:{show:true,radius:3/4,label:{show:true,radius:3/4,formatter:function(f,g){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+f+"<br/>"+Math.round(g.percent)+"%</div>"},background:{opacity:0.5,color:"#000"}}}},legend:{show:false}});$.plot($("#pie_chart_6"),e,{series:{pie:{show:true,radius:1,label:{show:true,radius:2/3,formatter:function(f,g){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+f+"<br/>"+Math.round(g.percent)+"%</div>"},threshold:0.1}}},legend:{show:false}});$.plot($("#pie_chart_7"),e,{series:{pie:{show:true,combine:{color:"#999",threshold:0.1}}},legend:{show:false}});$.plot($("#pie_chart_8"),e,{series:{pie:{show:true,radius:300,label:{show:true,formatter:function(f,g){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+f+"<br/>"+Math.round(g.percent)+"%</div>"},threshold:0.1}}},legend:{show:false}});$.plot($("#pie_chart_9"),e,{series:{pie:{show:true,radius:1,tilt:0.5,label:{show:true,radius:1,formatter:function(f,g){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+f+"<br/>"+Math.round(g.percent)+"%</div>"},background:{opacity:0.8}},combine:{color:"#999",threshold:0.1}}},legend:{show:false}});$.plot($("#donut"),e,{series:{pie:{innerRadius:0.5,show:true}}});$.plot($("#interactive"),e,{series:{pie:{show:true}},grid:{hoverable:true,clickable:true}});$("#interactive").bind("plothover",a);$("#interactive").bind("plotclick",b);function a(f,h,g){if(!g){return}percent=parseFloat(g.series.percent).toFixed(2);$("#hover").html('<span style="font-weight: bold; color: '+g.series.color+'">'+g.series.label+" ("+percent+"%)</span>")}function b(f,h,g){if(!g){return}percent=parseFloat(g.series.percent).toFixed(2);alert(""+g.series.label+": "+percent+"%")}}}}();